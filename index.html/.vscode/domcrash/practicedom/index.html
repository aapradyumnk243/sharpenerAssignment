<html>
    <body>
        <form onsubmit="saveToLocalStorage(event
        )">
        <label for="username">Name:</label>
        <input type="text" id ="username" required><br>
        <label for="email">Email:</label>
        <input type="text" id="email"><br>
        <label for="phonenumber">Phonenumber:</label>
        <input type="phonenumber" id="phonenumber"><br>
        <button>submit</button>
        </form>
        <ul id ="listOfItems"></ul>
        <script>
            function saveToLocalStorage(event)
            {
                event.preventDefault();
                const name = event.target.username.value;
                const email = event.target.email.value;
                const phn = event.target.phonenumber.value;
                // localStorage.setItem("name", name);
                // localStorage.setItem("em", em);
                // localStorage.setItem("phm", phn);
                // //Retrieving data
                // var nam = document.getElementById("username").value;
                // var phn = document.getElementById("phonenumber").value;
                // var eml = document.getElementById("email").value;
                // //storing data
                // var s = localStorage.setItem("nam",nam);
                // var m = localStorage.setItem("phn",phn);
                // var t = localStorage.setItem("eml",eml);
                const obj ={
                    name,
                    email,
                    phn
                }
                localStorage.setItem(obj.email,JSON.stringify(obj))
                showUserOnScreen(obj)
            }
            function showUserOnScreen(obj){
                const parentElem =document.getElementById("listOfItems")
                const childElem = document.createElement('li')
                childElem.textContent = obj.name + '-' + obj.email + '-' + obj.phn;

                const deleteButton = document.createElement("input")
                deleteButton.type="button"
                deleteButton.value='Delete'
                deleteButton.onclick=() => {
                    localStorage.removeItem(obj.email)
                    parentElem.removeChild(childElem)
                }
                const editButton = document.createdElement('input')
                editButton.type = "button"
                editButton.value = 'Edit'
                editButton.onclick= () => {
                    localStorage.removeItem(obj.email)
                    parentElem.removeChild(childElem)
                    document.getElementById('username').value = obj.name;
                    document.getElementById('email').value = obj.email;
                    document.getElementById('phonenumbe').value = obj.phn;
                }

                
                childElem.appendChild(deleteButton)
                childElem.appendChild(editButton)
                parentElem.appendChild(childElem)
            }
        </script>


    </body>
</html>